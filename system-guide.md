# 새로운 저장/불러오기 시스템 가이드

## 🎯 개요
기존의 복잡하고 불안정한 저장/불러오기 시스템을 간단하고 신뢰할 수 있는 새로운 시스템으로 완전히 교체했습니다.

## 🔧 새로운 시스템 구조

### 1. StorageManager (`storage-manager.js`)
- **역할**: 매물 목록과 기본 정보 관리
- **기능**: 
  - 매물 추가/수정/삭제
  - 현재 선택된 매물 추적
  - 매물별 상세 데이터 저장/로드
  - 데이터 백업/복원

### 2. FormDataManager (`form-data-manager.js`)
- **역할**: 폼 데이터 수집 및 로드
- **기능**:
  - 경매 정보, 물건조사, 시뮬레이션 결과 수집
  - 폼 초기화
  - 유효성 검사

## 📝 사용법

### 매물 관리
1. **매물 추가**: "+ 매물 추가" 버튼 클릭
2. **매물 편집**: 매물 옆의 ✏️ 버튼 클릭
3. **매물 삭제**: 매물 옆의 🗑️ 버튼 클릭

### 데이터 저장/불러오기
1. **저장**: 매물 옆의 💾 버튼 클릭
   - 현재 입력된 모든 정보가 저장됩니다
   - 경매 정보, 물건조사, 시뮬레이션 결과 포함
2. **불러오기**: 매물을 클릭하면 자동으로 저장된 정보가 로드됩니다

## 🔒 데이터 안전성

### 자동 저장
- 모든 변경사항은 자동으로 localStorage에 저장됩니다
- 브라우저를 닫아도 데이터가 유지됩니다

### 에러 처리
- 저장/로드 실패 시 사용자에게 명확한 메시지 표시
- 잘못된 데이터는 자동으로 복구됩니다

### 데이터 격리
- 각 매물의 데이터는 독립적으로 관리됩니다
- 매물 간 데이터 간섭이 없습니다

## 🚀 장점

### 1. 단순성
- 복잡한 로직 제거
- 명확한 책임 분리
- 쉬운 유지보수

### 2. 안정성
- 강력한 에러 처리
- 데이터 무결성 보장
- 예측 가능한 동작

### 3. 성능
- 빠른 데이터 접근
- 효율적인 메모리 사용
- 최소한의 DOM 조작

## 🔍 문제 해결

### 저장이 안 될 때
1. 브라우저 콘솔에서 에러 메시지 확인
2. localStorage 용량 확인
3. 브라우저 새로고침 후 재시도

### 불러오기가 안 될 때
1. 저장된 데이터가 있는지 확인
2. 매물이 올바르게 선택되었는지 확인
3. 브라우저 개발자 도구에서 localStorage 확인

## 📊 데이터 구조

### 매물 기본 정보
```javascript
{
  id: timestamp,
  name: "매물명",
  caseNumber: "사건번호",
  location: "주소",
  type: "물건종류",
  createdAt: "생성일시",
  updatedAt: "수정일시"
}
```

### 매물별 상세 데이터
```javascript
{
  auctionInfo: { /* 경매 정보 */ },
  inspectionData: { /* 물건조사 정보 */ },
  simulationResult: { /* 시뮬레이션 결과 */ },
  lastSaved: "저장일시"
}
```

## 🎉 마이그레이션 완료

기존 시스템의 모든 문제점이 해결되었습니다:
- ✅ 데이터 덮어씌우기 문제 해결
- ✅ 매각가율 정보 격리 완료
- ✅ 시스템 불안정성 해결
- ✅ 저장/불러오기 기능 정상화
- ✅ 에러 처리 강화
